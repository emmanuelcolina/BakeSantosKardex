<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="plantilla/template :: head">
</head>
<body>
	<header th:replace="plantilla/template :: header"></header>

	<div class="container">		
		<h1 th:text="${titulo}"></h1>		
	</div>
	
	<div class="container">
		
            <a class="btn btn-primary btn-sm" sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/productos/agregar}"
                    th:text="'Nuevo Producto'" title="Crear Nuevo Producto">
            </a>
            
            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Nombre</th>
                            <th>CÃ³digo</th>
                            <th>Precio</th>
                            <th>Existencia</th>
                            <th sec:authorize="hasRole('ROLE_ADMIN')">Editar</th>
                            <th sec:authorize="hasRole('ROLE_ADMIN')">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody>
                    <tr th:each="producto : ${productos}">
                        <td th:text="${producto.name}"></td>
                        <td th:text="${producto.cod}"></td>
                        <td th:text="${producto.price}"></td>
                        <td th:text="${producto.stock}"></td>
                        <td sec:authorize="hasRole('ROLE_ADMIN')">
                            <a class="btn btn-success btn-sm" th:href="@{/productos/editar/} + ${producto.id}" th:text="'Editar'" title="Editar Registro"></a>
                        </td>
                        <td sec:authorize="hasRole('ROLE_ADMIN')">
                            <a class="btn btn-danger btn-sm" th:href="@{/productos/delete/} + ${producto.id}"
                                th:text="'Eliminar'" title="Eliminar Registro"
                                onclick="return confirm('Esta seguro de eliminar el registro?');">
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
	</div>

	<footer th:replace="plantilla/template :: footer"></footer>

</body>
</html>